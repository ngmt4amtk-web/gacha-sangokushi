<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>無課金三国志 〜絆と覇道〜</title>
<meta name="description" content="正史三国志の世界で武将を集め、絆を発見し、天下を統一せよ。完全無課金のガチャ三国志ゲーム。">
<meta name="theme-color" content="#0f0f1a">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚔️</text></svg>">

<!-- CSS -->
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/components.css">
<link rel="stylesheet" href="css/gacha-anim.css">
<link rel="stylesheet" href="css/battle.css">
<link rel="stylesheet" href="css/encyclopedia.css">
</head>
<body>

<div id="app">
  <!-- Top Bar -->
  <div id="topbar">
    <div>
      <div class="medal-count"><span id="medal-display">0</span></div>
      <div class="medal-rate" id="medal-rate-display"></div>
    </div>
    <div style="text-align:center">
      <div class="ticket-count"><span id="ticket-display">0</span></div>
      <div class="ticket-label">武将券</div>
    </div>
    <div class="chapter-info">
      <div class="chapter-num" id="chapter-display"></div>
      <div id="stage-display" style="font-size:11px;color:var(--text2)"></div>
    </div>
  </div>

  <!-- Screens -->
  <div id="screens">
    <div id="screen-home" class="screen active"></div>
    <div id="screen-gacha" class="screen"></div>
    <div id="screen-team" class="screen"></div>
    <div id="screen-battle" class="screen"></div>
    <div id="screen-story" class="screen"></div>
    <div id="screen-encyclopedia" class="screen"></div>
    <div id="screen-quiz" class="screen"></div>
  </div>

  <!-- Bottom Navigation -->
  <div id="bottomnav">
    <button class="nav-btn active" data-screen="home">
      <span>🏠</span>ホーム
    </button>
    <button class="nav-btn" data-screen="gacha">
      <span>🎴</span>召喚
    </button>
    <button class="nav-btn" data-screen="team">
      <span>⚔️</span>編成
    </button>
    <button class="nav-btn" data-screen="battle">
      <span>🗡️</span>出撃
    </button>
    <button class="nav-btn" data-screen="story">
      <span>📜</span>年表
    </button>
    <button class="nav-btn" data-screen="encyclopedia">
      <span>📖</span>図鑑
    </button>
    <button class="nav-btn" data-screen="quiz">
      <span>📝</span>クイズ
    </button>
  </div>
</div>

<!-- Modals / Overlays -->
<div id="detail-modal" class="modal-overlay">
  <div class="modal-content" id="detail-content"></div>
</div>

<div id="welcome-modal" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);z-index:300;display:none;align-items:center;justify-content:center"></div>

<div id="expedition-modal" class="expedition-modal"></div>

<div id="gacha-overlay"></div>

<div id="battle-overlay"></div>

<!-- Particle Canvas -->
<canvas id="particles"></canvas>

<!-- Data Files -->
<script src="js/data/characters.js"></script>
<script src="js/data/bonds.js"></script>
<script src="js/data/weapons.js"></script>
<script src="js/data/stages.js"></script>
<script src="js/data/story-text.js"></script>
<script src="js/data/quiz-questions.js"></script>
<script src="js/data/signature-items.js"></script>

<!-- Core -->
<script src="js/core/state.js"></script>
<script src="js/core/helpers.js"></script>
<script src="js/core/save.js"></script>

<!-- Generators -->
<script src="js/gen/avatar.js"></script>
<script src="js/gen/sound.js"></script>
<script src="js/gen/weapon-icon.js"></script>

<!-- Animation -->
<script src="js/anim/particles.js"></script>
<script src="js/anim/gacha-anim.js"></script>
<script src="js/anim/battle-anim.js"></script>

<!-- Systems -->
<script src="js/systems/gacha.js"></script>
<script src="js/systems/battle.js"></script>
<script src="js/systems/bond-system.js"></script>
<script src="js/systems/idle.js"></script>
<script src="js/systems/progression.js"></script>
<script src="js/systems/quiz.js"></script>

<!-- UI -->
<script src="js/ui/renderer.js"></script>
<script src="js/ui/screen-home.js"></script>
<script src="js/ui/screen-gacha.js"></script>
<script src="js/ui/screen-team.js"></script>
<script src="js/ui/screen-battle.js"></script>
<script src="js/ui/screen-story.js"></script>
<script src="js/ui/screen-encyclopedia.js"></script>
<script src="js/ui/screen-quiz.js"></script>

<!-- App Init (must be last) -->
<script src="js/app.js"></script>

</body>
</html>
